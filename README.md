# –î–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å–µ–ª–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤.

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∏–º–∏—Ç–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å–µ–ª–µ–Ω–∏—è —Å —Ç–µ—á–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏, —É—á–∏—Ç—ã–≤–∞—è:
- –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Å–º–µ—Ä—Ç–∏ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–º –∏ –ø–æ–ª—É
- –†–æ–∂–¥–∞–µ–º–æ—Å—Ç—å (–∂–µ–Ω—â–∏–Ω—ã 18-45 –ª–µ—Ç) 
- –ù–∞—á–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞—Å–µ–ª–µ–Ω–∏—è –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≥–æ–¥–∞–º

## üéØ –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

### –°–æ–±—ã—Ç–∏–π–Ω–∞—è –º–æ–¥–µ–ª—å (–ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)
- **–ö–∞–∂–¥—ã–π Person –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ —Å–æ–±—ã—Ç–∏–µ YearTick** –¥–≤–∏–∂–∫–∞
- **–î–≤–∏–∂–æ–∫ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ —Å–æ–±—ã—Ç–∏–µ ChildBirth** –∫–∞–∂–¥–æ–≥–æ Person
- **–ü—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —á–µ—Ä–µ–∑ `ProcessYear()` –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å–µ–ª–µ–Ω–∏—è
- **1 –æ–±—ä–µ–∫—Ç Person = 1000 —á–µ–ª–æ–≤–µ–∫** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –Ω–∞—Å–µ–ª–µ–Ω–∏–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —á–∏—Å–ª–∞—Ö** (–º–∏–ª–ª–∏–æ–Ω—ã –ª—é–¥–µ–π)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```text
Demographic/ # –†–µ—à–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ Demographic/ # –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç (.NET Standard)
‚îÇ   ‚îú‚îÄ‚îÄ Classes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Engine.cs # –î–≤–∏–∂–æ–∫ —Å–∏–º—É–ª—è—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Person.cs # –ö–ª–∞—Å—Å —á–µ–ª–æ–≤–µ–∫–∞  
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProbabilityCalculator.cs # –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ Interfaces/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ IEngine.cs # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–≤–∏–∂–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ Models/
‚îÇ       ‚îú‚îÄ‚îÄ ChildBirthEventArgs.cs # –ê—Ä–≥—É–º–µ–Ω—Ç—ã —Å–æ–±—ã—Ç–∏—è —Ä–æ–∂–¥–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ DeathRules.cs # –ü—Ä–∞–≤–∏–ª–∞ —Å–º–µ—Ä—Ç–Ω–æ—Å—Ç–∏
‚îÇ       ‚îú‚îÄ‚îÄ DemographicStats.cs # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –≥–æ–¥
‚îÇ       ‚îú‚îÄ‚îÄ Gender.cs # –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ–ª–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ InitialAgeData.cs # –ù–∞—á–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–º
‚îÇ       ‚îî‚îÄ‚îÄ SimulationResult.cs # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∏–º—É–ª—è—Ü–∏–∏
‚îú‚îÄ‚îÄ Demographic.Exec/ # Console App (.NET)
‚îÇ   ‚îú‚îÄ‚îÄ Files/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeathRules.csv # –ü—Ä–∞–≤–∏–ª–∞ —Å–º–µ—Ä—Ç–Ω–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InitialAge.csv # –ù–∞—á–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PeopleData.csv # –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ª—é–¥–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PopulationData.csv # –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞—Å–µ–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ Program.cs # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ Demographic.FileOperations/ # Class Library (.NET Standard)
    ‚îú‚îÄ‚îÄ Classes/
    ‚îÇ   ‚îú‚îÄ‚îÄ CsvDeathRulesReader.cs # –ß—Ç–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Å–º–µ—Ä—Ç–Ω–æ—Å—Ç–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ CsvInitialAgeReader.cs # –ß—Ç–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
    ‚îÇ   ‚îî‚îÄ‚îÄ CsvResultWriter.cs # –ó–∞–ø–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    ‚îî‚îÄ‚îÄ Interfaces/
        ‚îú‚îÄ‚îÄ IDeathRulesReader.cs # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á—Ç–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª —Å–º–µ—Ä—Ç–Ω–æ—Å—Ç–∏
        ‚îú‚îÄ‚îÄ IInitialAgeReader.cs # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á—Ç–µ–Ω–∏—è –≤–æ–∑—Ä–∞—Å—Ç–∞
        ‚îî‚îÄ‚îÄ IResultWriter.cs # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø–∏—Å–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```
## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- .NET 6.0 –∏–ª–∏ –≤—ã—à–µ
- CSV —Ñ–∞–π–ª—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ –ø–∞–ø–∫–µ `Demographic.Exec/Files/`

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

```bash
cd Demographic.Exec
dotnet run [initialAgeFile] [deathRulesFile] [startYear] [endYear] [totalPopulation] [outputPopulationData] [outputPeopledata]
```

# –ö–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã

## Demographic

### Engine
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä —Å–∏–º—É–ª—è—Ü–∏–∏, —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ä–æ–ª—å**: –†–µ–∞–ª–∏–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω "–°–æ–±—ã—Ç–∏–π–Ω–∞—è —à–∏–Ω–∞" –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã**: 
  - `Initialize()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º (1 –æ–±—ä–µ–∫—Ç = 1000 —á–µ–ª–æ–≤–µ–∫)
  - `RunSimulation()` - –∑–∞–ø—É—Å–∫ —Å–∏–º—É–ª—è—Ü–∏–∏ —Å –≥–∏–±—Ä–∏–¥–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π (–ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã + —Å–æ–±—ã—Ç–∏—è)
  - `ProcessPeopleYear()` - –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ª—é–¥–µ–π
- **–°–æ–±—ã—Ç–∏—è**: 
  - `YearTick` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –≥–æ–¥–∞
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É —Å–∏–º—É–ª—è—Ü–∏–∏

### Person  
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –≥—Ä—É–ø–ø—É –∏–∑ 1000 —á–µ–ª–æ–≤–µ–∫ —Å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ä–æ–ª—å**: –ê–∫—Ç–∏–≤–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ —Å–æ–±—ã—Ç–∏–π–Ω–æ–π –º–æ–¥–µ–ª–∏, –ø–æ–¥–ø–∏—Å—á–∏–∫ –Ω–∞ YearTick
- **–°–≤–æ–π—Å—Ç–≤–∞**: 
  - `Age`, `Gender`, `IsAlive`, `DeathYear` - –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≥—Ä—É–ø–ø—ã
- **–ú–µ—Ç–æ–¥—ã**: 
  - `ProcessYear()` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–æ–¥–∞ (–≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
  - `OnYearTick()` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- **–°–æ–±—ã—Ç–∏—è**: `ChildBirth` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–≤–∏–∂–∫–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã –ª—é–¥–µ–π
- **–ü—Ä–∏–Ω—Ü–∏–ø**: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é "–∫–∞–∂–¥—ã–π Person –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ YearTick"

### DeathRules
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –§–∞—Å–∞–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ —Å–º–µ—Ä—Ç–Ω–æ—Å—Ç–∏
- **–ú–µ—Ç–æ–¥—ã**:
  - `GetDeathProbability()` - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
  - `AddRule()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ö–æ–ª–ª–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ `DeathRule` —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö

### InitialAgeData
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Calculator pattern –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –≥–æ—Ç–æ–≤–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- **–ú–µ—Ç–æ–¥—ã**:
  - `CalculatePercentages()` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
  - `GetPercentageForAge()` - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º —á–µ—Ä–µ–∑ —Å–ª–æ–≤–∞—Ä—å
- **–î–∞–Ω–Ω—ã–µ**: Read-only —Å–ª–æ–≤–∞—Ä—å `AgePercentages` –¥–ª—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### ProbabilityCalculator
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Thread-safe —Å–µ—Ä–≤–∏—Å –¥–ª—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ä–æ–ª—å**: –†–µ–∞–ª–∏–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω "ThreadStatic Random" –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ú–µ—Ç–æ–¥—ã**:
  - `IsEventHappened()` - –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–±—ã—Ç–∏–π –ø–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö

## Demographic.FileOperations

### CsvInitialAgeReader
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Adapter –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è CSV –¥–∞–Ω–Ω—ã—Ö –≤ –¥–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
- **–†–µ–∞–ª–∏–∑—É–µ—Ç**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IInitialAgeReader` (Dependency Inversion)
- **–ú–µ—Ç–æ–¥—ã**: `ReadAgeDistribution()` - —á—Ç–µ–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –æ—à–∏–±–∫–∏

### CsvDeathRulesReader  
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Data Mapper –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ CSV —Å—Ç—Ä–æ–∫ –≤ –æ–±—ä–µ–∫—Ç—ã DeathRule
- **–†–µ–∞–ª–∏–∑—É–µ—Ç**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IDeathRulesReader`
- **–ú–µ—Ç–æ–¥—ã**: `ReadDeathRules()` - –ø–∞—Ä—Å–∏–Ω–≥ —Å –∫—É–ª—å—Ç—É—Ä–Ω–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —á–∏—Å–µ–ª
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤

### CsvResultWriter
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Strategy pattern –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–†–µ–∞–ª–∏–∑—É–µ—Ç**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IResultWriter`
- **–ú–µ—Ç–æ–¥—ã**: 
  - `WritePopulationData()` - —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  - `WritePeopleData()` - –ø–æ—Ç–æ–∫–æ–≤–∞—è –∑–∞–ø–∏—Å—å –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ IO –æ–ø–µ—Ä–∞—Ü–∏–π

##  Models Layer

### DeathRule
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Value Object —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ —Å–º–µ—Ä—Ç–Ω–æ—Å—Ç–∏
- **–°–≤–æ–π—Å—Ç–≤–∞**:
  - `StartAge`, `EndAge` - –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω
  - `DeathProbabilityMale`, `DeathProbabilityFemale` - –≤–∞–ª–∏–¥–∏—Ä—É–µ–º—ã–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏
- **–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã**: –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

### DemographicStats
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: DTO (Data Transfer Object) –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–æ–¥–∞
- **–°–≤–æ–π—Å—Ç–≤–∞**:
  - `Year`, `TotalPopulation`, `MalePopulation`, `FemalePopulation`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –°–µ—Ä–∏–∞–ª–∏–∑—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏

### ChildBirthEventArgs
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Event Args –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
- **–°–≤–æ–π—Å—Ç–≤–∞**: `ChildGender`, `BirthYear` - –≤—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ Person

### SimulationResult
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Aggregate Root –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–∏–º—É–ª—è—Ü–∏–∏
- **–°–≤–æ–π—Å—Ç–≤–∞**: `YearlyStatistics` - –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é(–∑–∞–¥–∞—é—Ç—Å—è –≤ –∫–ª–∞—Å—Å–µ Program)
- **`initialAgeFile`**: Files/InitialAge.csv
- **`deathRulesFile`**: Files/DeathRules.csv
- **`startYear`**: 1970
- **`endYear`**: 2021
- **`totalPopulation`**: 130,000,000
- **`outputFile1`**: Files/PopulationData.csv
- **`outputFile2`**: Files/PeopleData.csv

## –§–æ—Ä–º–∞—Ç—ã –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
### InitialAge.csv
```csv
age,count_per_1000
0,15.2
1,14.8
...
```
### DeathRules.csv
```csv
start_age,end_age,male_probability,female_probability
0,1,0.0316,0.0266
1,4,0.0021,0.0017
...
```
## –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
### PopulationData.csv
```csv
year,total_population,male_population,female_population
1970,130000000,65000000,65000000
...
```
## PeopleData.csv
```csv
Age,Gender,IsAlive,DeathYear
25,Male,True,
30,Female,False,2005
...
```
## –õ–æ–≥–∏–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏
### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–¥–∞ –¥–ª—è Person:
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–º–µ—Ä—Ç–∏** - –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Å–º–µ—Ä—Ç–∏ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É –∏ –ø–æ–ª—É –∏–∑ DeathRules
2. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞** - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –≤—ã–∂–∏–ª  
3. **–†–æ–∂–¥–µ–Ω–∏–µ –¥–µ—Ç–µ–π** - –¥–ª—è –∂–µ–Ω—â–∏–Ω 18-45 –ª–µ—Ç —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 15.1%
4. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–∞ —Ä–µ–±–µ–Ω–∫–∞** - 55% –¥–µ–≤–æ—á–∫–∏, 45% –º–∞–ª—å—á–∏–∫–∏
   
### –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª Engine:
**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –Ω–∞—Å–µ–ª–µ–Ω–∏—è**
- –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ Person —Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º 1:1000
- –ü–æ–¥–ø–∏—Å–∫–∞ –∫–∞–∂–¥–æ–≥–æ Person –Ω–∞ —Å–æ–±—ã—Ç–∏–µ YearTick
- –ü–æ–¥–ø–∏—Å–∫–∞ Engine –Ω–∞ —Å–æ–±—ã—Ç–∏—è ChildBirth –≤—Å–µ—Ö Person

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ–¥–∞ (1970-2021):**
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∂–∏–≤—ã—Ö –ª—é–¥–µ–π** —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ `ProcessYear()` 
- **–£—á–µ—Ç —Ä–æ–∂–¥–µ–Ω–∏–π –∏ —Å–º–µ—Ä—Ç–µ–π** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è ChildBirth –∏ —Ñ–ª–∞–≥–∏ —Å–º–µ—Ä—Ç–∏)
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —á–∏—Å–ª–∞—Ö (—É–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ 1000)
- **–í—ã–∑–æ–≤ —Å–æ–±—ã—Ç–∏—è YearTick** –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
- **`Demographic`** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –º–æ–¥–µ–ª–∏
- **`Demographic.Exec`** - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **`Demographic.FileOperations`** - —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- –°–æ–±—ã—Ç–∏–π–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –ò–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Jupyter Notebook

–î–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω Python —Å–∫—Ä–∏–ø—Ç —Å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ–º –≥—Ä–∞—Ñ–∏–∫–æ–≤:

### –ó–∞–ø—É—Å–∫ —Å–∏–º—É–ª—è—Ü–∏–∏ –∏–∑ Python

```python
import pandas as pd
import matplotlib.pyplot as plt
import subprocess
import os

%matplotlib inline
plt.style.use('seaborn-v0_8-whitegrid')

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π
exe_path = r"–ø—É—Ç—å\–∫\Demographic.Exec.exe"
init_age_path = r"–ø—É—Ç—å\–∫\InitialAge.csv"
death_rules_path = r"–ø—É—Ç—å\–∫\DeathRules.csv"

# –í–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
start_year = input('–í–≤–µ–¥–∏—Ç–µ –≥–æ–¥ –Ω–∞—á–∞–ª–∞ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è: ')
end_year = input('–í–≤–µ–¥–∏—Ç–µ –≥–æ–¥ –æ–∫–æ–Ω—á–∞–Ω–∏—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è: ')
start_people = input('–í–≤–µ–¥–∏—Ç–µ –Ω–∞—á–∞–ª—å–Ω—ã–π —Å–æ—Å—Ç–∞–≤ –Ω–∞—Å–µ–ª–µ–Ω–∏—è: ')

# –ó–∞–ø—É—Å–∫ C# –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
process = subprocess.run([
    exe_path, init_age_path, death_rules_path,
    start_year, end_year, start_people,
    'Population.csv', 'People.csv' # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —ç—Ç–∏ —Ñ–∞–π–ª—ã, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ–º –∑–∞–¥–∞–π—Ç–µ –ø—É—Ç–∏ –∫ —Å–≤–æ–∏–º 
], capture_output=True, text=True, encoding='cp866')
```
## –ü—Ä–∏–º–µ—Ä—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤ –ø–æ—Å–ª–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è

<img width="600" height="500" alt="image" src="https://github.com/user-attachments/assets/a8e73bd5-aa30-4bac-b3f9-d1485344b600" />
<img width="600" height="500" alt="image" src="https://github.com/user-attachments/assets/e36d767a-c466-4099-9a69-80c4f8323713" />
<img width="600" height="500" alt="image" src="https://github.com/user-attachments/assets/3ec1e668-4194-40c2-be48-cdeac530eaaa" />
<img width="600" height="500" alt="image" src="https://github.com/user-attachments/assets/ad6ff895-9213-43f1-90a9-07d810d2608d" />







